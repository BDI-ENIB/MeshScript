<html>
  <head>
    <script src="../src/BrowserAdapter/EventEmitter.min.js"></script>
    <script src="../src/core/Node.js"></script>
    <script src="../src/core/Link.js"></script>
    <script src="../src/core/MeshScript.js"></script>
    <script src="../src/modules/ClockNode.js"></script>
    <script src="../src/modules/DephaserNode.js"></script>
    <script src="../src/modules/SyncerNode.js"></script>
  </head>
  <body>
    <script>
      var n={node:Node,clock:ClockNode,dephaser:DephaserNode,syncer:SyncerNode};
      var d={
        nodes:[
          {
            id:"clock",
            type:"clock"
          },
          {
            id:"p1-1",
            type:"dephaser",
            period:500
          },
          {
            id:"p2-1",
            type:"node",
            outputs:["output"],
            code:function(params,output){params["path"]=2;output("output",params);}
          },
          {
            id:"sync",
            type:"syncer"
          },
          {
            id:"end",
            type:"node",
            outputs:[],
            code:function(params,output){console.log("ee");}
          },
        ],
        links:[
          {
            id:"clock-p1-1",
            start:"clock",
            end:"p1-1",
            output:"output"
          },
          {
            id:"clock-p2-1",
            start:"clock",
            end:"p2-1",
            output:"output"
          },
          {
            id:"p1-1-sync",
            start:"p1-1",
            end:"sync",
            output:"output"
          },
          {
            id:"p2-1-sync",
            start:"p2-1",
            end:"sync",
            output:"output"
          },
          {
            id:"sync-end",
            start:"sync",
            end:"end",
            output:"output"
          }
        ]
      };
      var mesh =new MeshScript(d,n);
      setTimeout(function(){mesh.destroy();},10000);
    </script>
  </body>
</html>